<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Новости</title>
    <style>
        body { font-family: Arial, sans-serif; background:#111; color:#fff; margin:0; padding:0; }
        header { background:#f5c400; color:#000; padding:16px; font-size:20px; font-weight:bold; }
        main { padding:16px; display:flex; flex-direction:column; gap:16px; }
        .news-item { background:#222; border-radius:6px; padding:12px; display:flex; gap:12px; flex-wrap:wrap; }
        .news-image { width:200px; height:150px; object-fit:cover; border-radius:6px; }
        .news-content { flex:1; }
        .news-title { font-size:18px; font-weight:bold; margin-bottom:6px; color:#f5c400; }
        .news-date { font-size:12px; color:#aaa; margin-bottom:6px; }
        .news-text { font-size:14px; line-height:1.4; }
    </style>
</head>
<body>
<header>Новости</header>
<main id="newsContainer">
    <!-- Новости будут загружены сюда -->
</main>

<script>
    const newsContainer = document.getElementById('newsContainer');

    async function loadNews() {
        try {
            const res = await fetch('http://localhost:8080/news');
            if (!res.ok) throw new Error();
            const newsList = await res.json();

            newsContainer.innerHTML = '';

            newsList.forEach(item => {
                const div = document.createElement('div');
                div.className = 'news-item';

                const img = document.createElement('img');
                img.className = 'news-image';
                img.src = item.image;

                const contentDiv = document.createElement('div');
                contentDiv.className = 'news-content';

                const title = document.createElement('div');
                title.className = 'news-title';
                title.textContent = item.title;

                const date = document.createElement('div');
                date.className = 'news-date';
                date.textContent = item.date;

                const text = document.createElement('div');
                text.className = 'news-text';
                text.textContent = item.content;

                contentDiv.appendChild(title);
                contentDiv.appendChild(date);
                contentDiv.appendChild(text);

                div.appendChild(img);
                div.appendChild(contentDiv);

                newsContainer.appendChild(div);
            });

        } catch (err) {
            newsContainer.innerHTML = '<div>Ошибка загрузки новостей с сервера</div>';
        }
    }

    // Инициализация
    loadNews();
</script>
</body>
</html>
